---
title: 计网第三章：数据链路层
date: 2026-02-09 16:46:04
categories:
  - note
  - 408
  - 计算机网络
tags: [计网]
index_img:
banner_img: /images/壁纸.jpg
---

## 组帧

帧定界：如何让数据接收方确定帧的界限

透明传输：接收方能够将数据恢复原貌

组帧方法：字符计数法、字节填充法、零比特填充法、违规编码法

### 字符计数法

在每个帧的开头，用一个定长计数字段表示帧长

![字符计数法](../images/计网第三章/字符计数法.png)

### 字节填充法

![字节填充法](../images/计网第三章/字节填充法.png)

### 零比特填充法

HDLC和PPP协议使用的是零比特填充法

![零比特填充法](../images/计网第三章/零比特填充法.png)

### 违规编码法

![违规编码法](../images/计网第三章/违规编码法.png)

## 差错控制

发现并解决一个帧内部的位错

### 检错编码

接收方发现比特错误后丢弃帧，并通知发送方重传帧

#### 奇偶校验码

 ![奇偶校验码](../images/计网第三章/奇偶校验码.png)

通过异或和实现，所以0异或和为0，奇数个1异或和为1，偶数个1异或和为0

#### 循环冗余校验校验码CRC

 ![循环冗余校验码](../images/计网第三章/循环冗余校验码.png)

 ![二进制除法](../images/计网第三章/二进制除法.png)

### 纠错编码

由接受方发现并纠正比特错误

#### 海明校验码

基于奇偶校验码的基础上，将信息位分组后进行偶校验，n个信息位，k个校验位，则$2^k=n+k+1$,校验位$p_i$放在海明位号位$2^{i-1}$，纠错能力只有一位

> 校验位只会有一个地方是1，其余为0，若这个校验位为0，则所有在这个位置为1 的信息位的数据都是正确的。出错校验位组合即可，即可确定出错的是哪位信息位

![海明码步骤](../images/计网第三章/海明码步骤.png)

## 可靠传输和流量控制

可靠传输：发现并解决帧错误，包含帧丢失、帧重复和帧失序

流量控制：控制发送方发送的速率别太快，让接收方来得及接受

滑动窗口来实现，帧编号要求$W_t+W_R \leq 2^n$

### 停止等待协议（S-W）

发送窗口=1，接收窗口=1,需要1bit给帧编号

![停止等待协议](../images/计网第三章/停止等待协议.png)

确认帧：ACK_i,若接受方收到i号帧，且没有检测出”差错“，需要给发送方返回确认帧ACK_i

超时重传：若发送方超时未收到ACK_i,则重传i号帧

确认帧丢失：发送方重发原来的帧，接收方丢弃重复帧，返回重复帧的ACK

### 后退N帧协议

发送窗口>1，接收窗口=1

### 选择重传协议

发送窗口>1，接收窗口>1

## 介质访问控制